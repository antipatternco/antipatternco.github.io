
/*!
 * VERSION: 1.7.4
 * DATE: 2014-07-17
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2014, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var t=document.documentElement,e=window,i=function(i,s){var r="x"===s?"Width":"Height",n="scroll"+r,o="client"+r,a=document.body;return i===e||i===t||i===a?Math.max(t[n],a[n])-(e["inner"+r]||Math.max(t[o],a[o])):i[n]-i["offset"+r]},s=_gsScope._gsDefine.plugin({propName:"scrollTo",API:2,version:"1.7.4",init:function(t,s,r){return this._wdw=t===e,this._target=t,this._tween=r,"object"!=typeof s&&(s={y:s}),this.vars=s,this._autoKill=s.autoKill!==!1,this.x=this.xPrev=this.getX(),this.y=this.yPrev=this.getY(),null!=s.x?(this._addTween(this,"x",this.x,"max"===s.x?i(t,"x"):s.x,"scrollTo_x",!0),this._overwriteProps.push("scrollTo_x")):this.skipX=!0,null!=s.y?(this._addTween(this,"y",this.y,"max"===s.y?i(t,"y"):s.y,"scrollTo_y",!0),this._overwriteProps.push("scrollTo_y")):this.skipY=!0,!0},set:function(t){this._super.setRatio.call(this,t);var s=this._wdw||!this.skipX?this.getX():this.xPrev,r=this._wdw||!this.skipY?this.getY():this.yPrev,n=r-this.yPrev,o=s-this.xPrev;this._autoKill&&(!this.skipX&&(o>7||-7>o)&&i(this._target,"x")>s&&(this.skipX=!0),!this.skipY&&(n>7||-7>n)&&i(this._target,"y")>r&&(this.skipY=!0),this.skipX&&this.skipY&&(this._tween.kill(),this.vars.onAutoKill&&this.vars.onAutoKill.apply(this.vars.onAutoKillScope||this._tween,this.vars.onAutoKillParams||[]))),this._wdw?e.scrollTo(this.skipX?s:this.x,this.skipY?r:this.y):(this.skipY||(this._target.scrollTop=this.y),this.skipX||(this._target.scrollLeft=this.x)),this.xPrev=this.x,this.yPrev=this.y}}),r=s.prototype;s.max=i,r.getX=function(){return this._wdw?null!=e.pageXOffset?e.pageXOffset:null!=t.scrollLeft?t.scrollLeft:document.body.scrollLeft:this._target.scrollLeft},r.getY=function(){return this._wdw?null!=e.pageYOffset?e.pageYOffset:null!=t.scrollTop?t.scrollTop:document.body.scrollTop:this._target.scrollTop},r._kill=function(t){return t.scrollTo_x&&(this.skipX=!0),t.scrollTo_y&&(this.skipY=!0),this._super._kill.call(this,t)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()();
(function($){
(function(b){if(typeof define==="function"&&define.amd){define(["jquery"],b)}else{b(jQuery)}}(function(g){var e={},f=Math.max,h=Math.min;e.c={};e.c.d=g(document);e.c.t=function(a){return a.originalEvent.touches.length-1};e.o=function(){var a=this;this.o=null;this.$=null;this.i=null;this.g=null;this.v=null;this.cv=null;this.x=0;this.y=0;this.w=0;this.h=0;this.$c=null;this.c=null;this.t=0;this.isInit=false;this.fgColor=null;this.pColor=null;this.dH=null;this.cH=null;this.eH=null;this.rH=null;this.scale=1;this.relative=false;this.relativeWidth=false;this.relativeHeight=false;this.$div=null;this.run=function(){var b=function(d,j){var k;for(k in j){a.o[k]=j[k]}a._carve().init();a._configure()._draw()};if(this.$.data("kontroled")){return}this.$.data("kontroled",true);this.extend();this.o=g.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:true,readOnly:this.$.data("readonly")||(this.$.attr("readonly")==="readonly"),cursor:this.$.data("cursor")===true&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),0.01)||0.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:false,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(d){return d},parse:function(d){return parseFloat(d)}},this.o);this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw";if(!this.o.inputColor){this.o.inputColor=this.o.fgColor}if(this.$.is("fieldset")){this.v={};this.i=this.$.find("input");this.i.each(function(j){var d=g(this);a.i[j]=d;a.v[j]=a.o.parse(d.val());d.bind("change blur",function(){var k={};k[j]=d.val();a.val(k)})});this.$.find("legend").remove()}else{this.i=this.$;this.v=this.o.parse(this.$.val());this.v===""&&(this.v=this.o.min);this.$.bind("change blur",function(){a.val(a._validate(a.o.parse(a.$.val())))})}!this.o.displayInput&&this.$.hide();this.$c=g(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height});this.$div=g('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+'px;"></div>');this.$.wrap(this.$div).before(this.$c);this.$div=this.$.parent();if(typeof G_vmlCanvasManager!=="undefined"){G_vmlCanvasManager.initElement(this.$c[0])}this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c){throw {name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}}}this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1);this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%");this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%");this.relative=this.relativeWidth||this.relativeHeight;this._carve();if(this.v instanceof Object){this.cv={};this.copy(this.v,this.cv)}else{this.cv=this.v}this.$.bind("configure",b).parent().bind("configure",b);this._listen()._configure()._xy().init();this.isInit=true;this.$.val(this.o.format(this.v));this._draw();return this};this._carve=function(){if(this.relative){var d=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),b=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(d,b)}else{this.w=this.o.width;this.h=this.o.height}this.$div.css({width:this.w+"px",height:this.h+"px"});this.$c.attr({width:this.w,height:this.h});if(this.scale!==1){this.$c[0].width=this.$c[0].width*this.scale;this.$c[0].height=this.$c[0].height*this.scale;this.$c.width(this.w);this.$c.height(this.h)}return this};this._draw=function(){var b=true;a.g=a.c;a.clear();a.dH&&(b=a.dH());b!==false&&a.draw()};this._touch=function(d){var b=function(j){var k=a.xy2val(j.originalEvent.touches[a.t].pageX,j.originalEvent.touches[a.t].pageY);if(k==a.cv){return}if(a.cH&&a.cH(k)===false){return}a.change(a._validate(k));a._draw()};this.t=e.c.t(d);b(d);e.c.d.bind("touchmove.k",b).bind("touchend.k",function(){e.c.d.unbind("touchmove.k touchend.k");a.val(a.cv)});return this};this._mouse=function(b){var d=function(j){var k=a.xy2val(j.pageX,j.pageY);if(k==a.cv){return}if(a.cH&&(a.cH(k)===false)){return}a.change(a._validate(k));a._draw()};d(b);e.c.d.bind("mousemove.k",d).bind("keyup.k",function(j){if(j.keyCode===27){e.c.d.unbind("mouseup.k mousemove.k keyup.k");if(a.eH&&a.eH()===false){return}a.cancel()}}).bind("mouseup.k",function(j){e.c.d.unbind("mousemove.k mouseup.k keyup.k");a.val(a.cv)});return this};this._xy=function(){var b=this.$c.offset();this.x=b.left;this.y=b.top;return this};this._listen=function(){if(!this.o.readOnly){this.$c.bind("mousedown",function(b){b.preventDefault();a._xy()._mouse(b)}).bind("touchstart",function(b){b.preventDefault();a._xy()._touch(b)});this.listen()}else{this.$.attr("readonly","readonly")}if(this.relative){g(window).resize(function(){a._carve().init();a._draw()})}return this};this._configure=function(){if(this.o.draw){this.dH=this.o.draw}if(this.o.change){this.cH=this.o.change}if(this.o.cancel){this.eH=this.o.cancel}if(this.o.release){this.rH=this.o.release}if(this.o.displayPrevious){this.pColor=this.h2rgba(this.o.fgColor,"0.4");this.fgColor=this.h2rgba(this.o.fgColor,"0.6")}else{this.fgColor=this.o.fgColor}return this};this._clear=function(){this.$c[0].width=this.$c[0].width};this._validate=function(b){return(~~(((b<0)?-0.5:0.5)+(b/this.o.step)))*this.o.step};this.listen=function(){};this.extend=function(){};this.init=function(){};this.change=function(b){};this.val=function(b){};this.xy2val=function(d,b){};this.draw=function(){};this.clear=function(){this._clear()};this.h2rgba=function(b,j){var d;b=b.substring(1,7);d=[parseInt(b.substring(0,2),16),parseInt(b.substring(2,4),16),parseInt(b.substring(4,6),16)];return"rgba("+d[0]+","+d[1]+","+d[2]+","+j+")"};this.copy=function(b,d){for(var k in b){d[k]=b[k]}}};e.Dial=function(){e.o.call(this);this.startAngle=null;this.xy=null;this.radius=null;this.lineWidth=null;this.cursorExt=null;this.w2=null;this.PI2=2*Math.PI;this.extend=function(){this.o=g.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:true},this.o)};this.val=function(b,a){if(null!=b){b=this.o.parse(b);if(a!==false&&b!=this.v&&this.rH&&this.rH(b)===false){return}this.cv=this.o.stopper?f(h(b,this.o.max),this.o.min):b;this.v=this.cv;this.$.val(this.o.format(this.v));this._draw()}else{return this.v}};this.xy2val=function(j,a){var d,b;d=Math.atan2(j-(this.x+this.w2),-(a-this.y-this.w2))-this.angleOffset;if(this.o.flip){d=this.angleArc-d-this.PI2}if(this.angleArc!=this.PI2&&(d<0)&&(d>-0.5)){d=0}else{if(d<0){d+=this.PI2}}b=~~(0.5+(d*(this.o.max-this.o.min)/this.angleArc))+this.o.min;this.o.stopper&&(b=f(h(b,this.o.max),this.o.min));return b};this.listen=function(){};this.init=function(){if(this.v<this.o.min||this.v>this.o.max){this.v=this.o.min}this.$.val(this.v);this.w2=this.w/2;this.cursorExt=this.o.cursor/100;this.xy=this.w2*this.scale;this.lineWidth=this.xy*this.o.thickness;this.lineCap=this.o.lineCap;this.radius=this.xy-this.lineWidth/2;this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset);this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc);this.angleOffset=this.o.angleOffset*Math.PI/180;this.angleArc=this.o.angleArc*Math.PI/180;this.startAngle=1.5*Math.PI+this.angleOffset;this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var a=f(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:((this.w/2+4)>>0)+"px",height:((this.w/3)>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":((this.w/3)>>0)+"px","margin-left":"-"+((this.w*3/4+2)>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+((this.w/a)>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})};this.change=function(a){this.cv=a;this.$.val(this.o.format(a))};this.angle=function(a){return(a-this.o.min)*this.angleArc/(this.o.max-this.o.min)};this.arc=function(b){var d,a;b=this.angle(b);if(this.o.flip){d=this.endAngle+0.00001;a=d-b-0.00001}else{d=this.startAngle-0.00001;a=d+b+0.00001}this.o.cursor&&(d=a-this.cursorExt)&&(a=a+this.cursorExt);return{s:d,e:a,d:this.o.flip&&!this.o.cursor}};this.draw=function(){var a=this.g,j=this.arc(this.cv),d,b=1;a.lineWidth=this.lineWidth;a.lineCap=this.lineCap;if(this.o.bgColor!=="none"){a.beginPath();a.strokeStyle=this.o.bgColor;a.arc(this.xy,this.xy,this.radius,this.endAngle-0.00001,this.startAngle+0.00001,true);a.stroke()}if(this.o.displayPrevious){d=this.arc(this.v);a.beginPath();a.strokeStyle=this.pColor;a.arc(this.xy,this.xy,this.radius,d.s,d.e,d.d);a.stroke();b=this.cv==this.v}a.beginPath();a.strokeStyle=b?this.o.fgColor:this.fgColor;a.arc(this.xy,this.xy,this.radius,j.s,j.e,j.d);a.stroke()};this.cancel=function(){this.val(this.v)}};g.fn.dial=g.fn.knob=function(a){return this.each(function(){var b=new e.Dial();b.o=a;b.$=g(this);b.run()}).parent()}}));!function(a){var d={},b={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4000,autoStart:!0,autoDirection:"next",autoHover:!1,autoDelay:0,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,onSliderLoad:function(){},onSlideBefore:function(){},onSlideAfter:function(){},onSlideNext:function(){},onSlidePrev:function(){},onSliderResize:function(){}};a.fn.bxSlider=function(aq){if(0==this.length){return this}if(this.length>1){return this.each(function(){a(this).bxSlider(aq)}),this}var ap={},am=this;d.el=this;var aB=a(window).width(),at=a(window).height(),ay=function(){ap.settings=a.extend({},b,aq),ap.settings.slideWidth=parseInt(ap.settings.slideWidth),ap.children=am.children(ap.settings.slideSelector),ap.children.length<ap.settings.minSlides&&(ap.settings.minSlides=ap.children.length),ap.children.length<ap.settings.maxSlides&&(ap.settings.maxSlides=ap.children.length),ap.settings.randomStart&&(ap.settings.startSlide=Math.floor(Math.random()*ap.children.length)),ap.active={index:ap.settings.startSlide},ap.carousel=ap.settings.minSlides>1||ap.settings.maxSlides>1,ap.carousel&&(ap.settings.preloadImages="all"),ap.minThreshold=ap.settings.minSlides*ap.settings.slideWidth+(ap.settings.minSlides-1)*ap.settings.slideMargin,ap.maxThreshold=ap.settings.maxSlides*ap.settings.slideWidth+(ap.settings.maxSlides-1)*ap.settings.slideMargin,ap.working=!1,ap.controls={},ap.interval=null,ap.animProp="vertical"==ap.settings.mode?"top":"left",ap.usingCSS=ap.settings.useCSS&&"fade"!=ap.settings.mode&&function(){var g=document.createElement("div"),h=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"];for(var f in h){if(void 0!==g.style[h[f]]){return ap.cssPrefix=h[f].replace("Perspective","").toLowerCase(),ap.animProp="-"+ap.cssPrefix+"-transform",!0}}return !1}(),"vertical"==ap.settings.mode&&(ap.settings.maxSlides=ap.settings.minSlides),am.data("origStyle",am.attr("style")),am.children(ap.settings.slideSelector).each(function(){a(this).data("origStyle",a(this).attr("style"))}),az()},az=function(){am.wrap('<div class="bx-wrapper"><div class="bx-viewport"></div></div>'),ap.viewport=am.parent(),ap.loader=a('<div class="bx-loading" />'),ap.viewport.prepend(ap.loader),am.css({width:"horizontal"==ap.settings.mode?100*ap.children.length+215+"%":"auto",position:"relative"}),ap.usingCSS&&ap.settings.easing?am.css("-"+ap.cssPrefix+"-transition-timing-function",ap.settings.easing):ap.settings.easing||(ap.settings.easing="swing"),ax(),ap.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),ap.viewport.parent().css({maxWidth:ao()}),ap.settings.pager||ap.viewport.parent().css({margin:"0 auto 0px"}),ap.children.css({"float":"horizontal"==ap.settings.mode?"left":"none",listStyle:"none",position:"relative"}),ap.children.css("width",al()),"horizontal"==ap.settings.mode&&ap.settings.slideMargin>0&&ap.children.css("marginRight",ap.settings.slideMargin),"vertical"==ap.settings.mode&&ap.settings.slideMargin>0&&ap.children.css("marginBottom",ap.settings.slideMargin),"fade"==ap.settings.mode&&(ap.children.css({position:"absolute",zIndex:0,display:"none"}),ap.children.eq(ap.settings.startSlide).css({zIndex:ap.settings.slideZIndex,display:"block"})),ap.controls.el=a('<div class="bx-controls" />'),ap.settings.captions&&J(),ap.active.last=ap.settings.startSlide==ai()-1,ap.settings.video&&am.fitVids();var f=ap.children.eq(ap.settings.startSlide);"all"==ap.settings.preloadImages&&(f=ap.children),ap.settings.ticker?ap.settings.pager=!1:(ap.settings.pager&&F(),ap.settings.controls&&ae(),ap.settings.auto&&ap.settings.autoControls&&ac(),(ap.settings.controls||ap.settings.autoControls||ap.settings.pager)&&ap.viewport.after(ap.controls.el)),aw(f,av)},aw=function(h,f){var g=h.find("img, iframe").length;if(0==g){return f(),void 0}var k=0;h.find("img, iframe").each(function(){a(this).one("load",function(){++k==g&&f()}).each(function(){this.complete&&a(this).load()})})},av=function(){if(ap.settings.infiniteLoop&&"fade"!=ap.settings.mode&&!ap.settings.ticker){var h="vertical"==ap.settings.mode?ap.settings.minSlides:ap.settings.maxSlides,f=ap.children.slice(0,h).clone().addClass("bx-clone"),g=ap.children.slice(-h).clone().addClass("bx-clone");am.append(f).prepend(g)}ap.loader.remove(),G(),"vertical"==ap.settings.mode&&(ap.settings.adaptiveHeight=!0),ap.viewport.height(ak()),am.redrawSlider(),ap.settings.onSliderLoad(ap.active.index),ap.initialized=!0,ap.settings.responsive&&a(window).bind("resize",e),ap.settings.auto&&ap.settings.autoStart&&ab(),ap.settings.ticker&&U(),ap.settings.pager&&an(ap.settings.startSlide),ap.settings.controls&&t(),ap.settings.touchEnabled&&!ap.settings.ticker&&K()},ak=function(){var g=0,f=a();if("vertical"==ap.settings.mode||ap.settings.adaptiveHeight){if(ap.carousel){var h=1==ap.settings.moveSlides?ap.active.index:ap.active.index*ar();for(f=ap.children.eq(h),i=1;i<=ap.settings.maxSlides-1;i++){f=h+i>=ap.children.length?f.add(ap.children.eq(i-1)):f.add(ap.children.eq(h+i))}}else{f=ap.children.eq(ap.active.index)}}else{f=ap.children}return"vertical"==ap.settings.mode?(f.each(function(){g+=a(this).outerHeight()}),ap.settings.slideMargin>0&&(g+=ap.settings.slideMargin*(ap.settings.minSlides-1))):g=Math.max.apply(Math,f.map(function(){return a(this).outerHeight(!1)}).get()),g},ao=function(){var f="100%";return ap.settings.slideWidth>0&&(f="horizontal"==ap.settings.mode?ap.settings.maxSlides*ap.settings.slideWidth+(ap.settings.maxSlides-1)*ap.settings.slideMargin:ap.settings.slideWidth),f},al=function(){var f=ap.settings.slideWidth,g=ap.viewport.width();return 0==ap.settings.slideWidth||ap.settings.slideWidth>g&&!ap.carousel||"vertical"==ap.settings.mode?f=g:ap.settings.maxSlides>1&&"horizontal"==ap.settings.mode&&(g>ap.maxThreshold||g<ap.minThreshold&&(f=(g-ap.settings.slideMargin*(ap.settings.minSlides-1))/ap.settings.minSlides)),f},ax=function(){var f=1;if("horizontal"==ap.settings.mode&&ap.settings.slideWidth>0){if(ap.viewport.width()<ap.minThreshold){f=ap.settings.minSlides}else{if(ap.viewport.width()>ap.maxThreshold){f=ap.settings.maxSlides}else{var g=ap.children.first().width();f=Math.floor(ap.viewport.width()/g)}}}else{"vertical"==ap.settings.mode&&(f=ap.settings.minSlides)}return f},ai=function(){var g=0;if(ap.settings.moveSlides>0){if(ap.settings.infiniteLoop){g=ap.children.length/ar()}else{for(var h=0,f=0;h<ap.children.length;){++g,h=f+ax(),f+=ap.settings.moveSlides<=ax()?ap.settings.moveSlides:ax()}}}else{g=Math.ceil(ap.children.length/ax())}return g},ar=function(){return ap.settings.moveSlides>0&&ap.settings.moveSlides<=ax()?ap.settings.moveSlides:ax()},G=function(){if(ap.children.length>ap.settings.maxSlides&&ap.active.last&&!ap.settings.infiniteLoop){if("horizontal"==ap.settings.mode){var g=ap.children.last(),h=g.position();aA(-(h.left-(ap.viewport.width()-g.width())),"reset",0)}else{if("vertical"==ap.settings.mode){var f=ap.children.length-ap.settings.minSlides,h=ap.children.eq(f).position();aA(-h.top,"reset",0)}}}else{var h=ap.children.eq(ap.active.index*ar()).position();ap.active.index==ai()-1&&(ap.active.last=!0),void 0!=h&&("horizontal"==ap.settings.mode?aA(-h.left,"reset",0):"vertical"==ap.settings.mode&&aA(-h.top,"reset",0))}},aA=function(h,l,g,k){if(ap.usingCSS){var m="vertical"==ap.settings.mode?"translate3d(0, "+h+"px, 0)":"translate3d("+h+"px, 0, 0)";am.css("-"+ap.cssPrefix+"-transition-duration",g/1000+"s"),"slide"==l?(am.css(ap.animProp,m),am.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){am.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),ad()})):"reset"==l?am.css(ap.animProp,m):"ticker"==l&&(am.css("-"+ap.cssPrefix+"-transition-timing-function","linear"),am.css(ap.animProp,m),am.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){am.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),aA(k.resetValue,"reset",0),Q()}))}else{var f={};f[ap.animProp]=h,"slide"==l?am.animate(f,g,ap.settings.easing,function(){ad()}):"reset"==l?am.css(ap.animProp,h):"ticker"==l&&am.animate(f,speed,"linear",function(){aA(k.resetValue,"reset",0),Q()})}},aj=function(){for(var h="",f=ai(),g=0;f>g;g++){var k="";ap.settings.buildPager&&a.isFunction(ap.settings.buildPager)?(k=ap.settings.buildPager(g),ap.pagerEl.addClass("bx-custom-pager")):(k=g+1,ap.pagerEl.addClass("bx-default-pager")),h+='<div class="bx-pager-item"><a href="" data-slide-index="'+g+'" class="bx-pager-link">'+k+"</a></div>"}ap.pagerEl.html(h)},F=function(){ap.settings.pagerCustom?ap.pagerEl=a(ap.settings.pagerCustom):(ap.pagerEl=a('<div class="bx-pager" />'),ap.settings.pagerSelector?a(ap.settings.pagerSelector).html(ap.pagerEl):ap.controls.el.addClass("bx-has-pager").append(ap.pagerEl),aj()),ap.pagerEl.on("click","a",aa)},ae=function(){ap.controls.next=a('<a class="bx-next" href="">'+ap.settings.nextText+"</a>"),ap.controls.prev=a('<a class="bx-prev" href="">'+ap.settings.prevText+"</a>"),ap.controls.next.bind("click",ah),ap.controls.prev.bind("click",ag),ap.settings.nextSelector&&a(ap.settings.nextSelector).append(ap.controls.next),ap.settings.prevSelector&&a(ap.settings.prevSelector).append(ap.controls.prev),ap.settings.nextSelector||ap.settings.prevSelector||(ap.controls.directionEl=a('<div class="bx-controls-direction" />'),ap.controls.directionEl.append(ap.controls.prev).append(ap.controls.next),ap.controls.el.addClass("bx-has-controls-direction").append(ap.controls.directionEl))},ac=function(){ap.controls.start=a('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+ap.settings.startText+"</a></div>"),ap.controls.stop=a('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+ap.settings.stopText+"</a></div>"),ap.controls.autoEl=a('<div class="bx-controls-auto" />'),ap.controls.autoEl.on("click",".bx-start",au),ap.controls.autoEl.on("click",".bx-stop",R),ap.settings.autoControlsCombine?ap.controls.autoEl.append(ap.controls.start):ap.controls.autoEl.append(ap.controls.start).append(ap.controls.stop),ap.settings.autoControlsSelector?a(ap.settings.autoControlsSelector).html(ap.controls.autoEl):ap.controls.el.addClass("bx-has-controls-auto").append(ap.controls.autoEl),af(ap.settings.autoStart?"stop":"start")},J=function(){ap.children.each(function(){var f=a(this).find("img:first").attr("title");void 0!=f&&(""+f).length&&a(this).append('<div class="bx-caption"><span>'+f+"</span></div>")})},ah=function(f){ap.settings.auto&&am.stopAuto(),am.goToNextSlide(),f.preventDefault()},ag=function(f){ap.settings.auto&&am.stopAuto(),am.goToPrevSlide(),f.preventDefault()},au=function(f){am.startAuto(),f.preventDefault()},R=function(f){am.stopAuto(),f.preventDefault()},aa=function(h){ap.settings.auto&&am.stopAuto();var f=a(h.currentTarget),g=parseInt(f.attr("data-slide-index"));g!=ap.active.index&&am.goToSlide(g),h.preventDefault()},an=function(g){var f=ap.children.length;return"short"==ap.settings.pagerType?(ap.settings.maxSlides>1&&(f=Math.ceil(ap.children.length/ap.settings.maxSlides)),ap.pagerEl.html(g+1+ap.settings.pagerShortSeparator+f),void 0):(ap.pagerEl.find("a").removeClass("active"),ap.pagerEl.each(function(h,k){a(k).find("a").eq(g).addClass("active")}),void 0)},ad=function(){if(ap.settings.infiniteLoop){var f="";0==ap.active.index?f=ap.children.eq(0).position():ap.active.index==ai()-1&&ap.carousel?f=ap.children.eq((ai()-1)*ar()).position():ap.active.index==ap.children.length-1&&(f=ap.children.eq(ap.children.length-1).position()),f&&("horizontal"==ap.settings.mode?aA(-f.left,"reset",0):"vertical"==ap.settings.mode&&aA(-f.top,"reset",0))}ap.working=!1,ap.settings.onSlideAfter(ap.children.eq(ap.active.index),ap.oldIndex,ap.active.index)},af=function(f){ap.settings.autoControlsCombine?ap.controls.autoEl.html(ap.controls[f]):(ap.controls.autoEl.find("a").removeClass("active"),ap.controls.autoEl.find("a:not(.bx-"+f+")").addClass("active"))},t=function(){1==ai()?(ap.controls.prev.addClass("disabled"),ap.controls.next.addClass("disabled")):!ap.settings.infiniteLoop&&ap.settings.hideControlOnEnd&&(0==ap.active.index?(ap.controls.prev.addClass("disabled"),ap.controls.next.removeClass("disabled")):ap.active.index==ai()-1?(ap.controls.next.addClass("disabled"),ap.controls.prev.removeClass("disabled")):(ap.controls.prev.removeClass("disabled"),ap.controls.next.removeClass("disabled")))},ab=function(){ap.settings.autoDelay>0?setTimeout(am.startAuto,ap.settings.autoDelay):am.startAuto(),ap.settings.autoHover&&am.hover(function(){ap.interval&&(am.stopAuto(!0),ap.autoPaused=!0)},function(){ap.autoPaused&&(am.startAuto(!0),ap.autoPaused=null)})},U=function(){var g=0;if("next"==ap.settings.autoDirection){am.append(ap.children.clone().addClass("bx-clone"))}else{am.prepend(ap.children.clone().addClass("bx-clone"));var f=ap.children.first().position();g="horizontal"==ap.settings.mode?-f.left:-f.top}aA(g,"reset",0),ap.settings.pager=!1,ap.settings.controls=!1,ap.settings.autoControls=!1,ap.settings.tickerHover&&!ap.usingCSS&&ap.viewport.hover(function(){am.stop()},function(){var l=0;ap.children.each(function(){l+="horizontal"==ap.settings.mode?a(this).outerWidth(!0):a(this).outerHeight(!0)});var h=ap.settings.speed/l,k="horizontal"==ap.settings.mode?"left":"top",m=h*(l-Math.abs(parseInt(am.css(k))));Q(m)}),Q()},Q=function(h){speed=h?h:ap.settings.speed;var l={left:0,top:0},g={left:0,top:0};"next"==ap.settings.autoDirection?l=am.find(".bx-clone").first().position():g=ap.children.first().position();var k="horizontal"==ap.settings.mode?-l.left:-l.top,m="horizontal"==ap.settings.mode?-g.left:-g.top,f={resetValue:m};aA(k,"ticker",speed,f)},K=function(){ap.touch={start:{x:0,y:0},end:{x:0,y:0}},ap.viewport.bind("touchstart",s)},s=function(f){if(ap.working){f.preventDefault()}else{ap.touch.originalPos=am.position();var g=f.originalEvent;ap.touch.start.x=g.changedTouches[0].pageX,ap.touch.start.y=g.changedTouches[0].pageY,ap.viewport.bind("touchmove",j),ap.viewport.bind("touchend",B)}},j=function(g){var l=g.originalEvent,f=Math.abs(l.changedTouches[0].pageX-ap.touch.start.x),h=Math.abs(l.changedTouches[0].pageY-ap.touch.start.y);if(3*f>h&&ap.settings.preventDefaultSwipeX?g.preventDefault():3*h>f&&ap.settings.preventDefaultSwipeY&&g.preventDefault(),"fade"!=ap.settings.mode&&ap.settings.oneToOneTouch){var m=0;if("horizontal"==ap.settings.mode){var k=l.changedTouches[0].pageX-ap.touch.start.x;m=ap.touch.originalPos.left+k}else{var k=l.changedTouches[0].pageY-ap.touch.start.y;m=ap.touch.originalPos.top+k}aA(m,"reset",0)}},B=function(g){ap.viewport.unbind("touchmove",j);var k=g.originalEvent,f=0;if(ap.touch.end.x=k.changedTouches[0].pageX,ap.touch.end.y=k.changedTouches[0].pageY,"fade"==ap.settings.mode){var h=Math.abs(ap.touch.start.x-ap.touch.end.x);h>=ap.settings.swipeThreshold&&(ap.touch.start.x>ap.touch.end.x?am.goToNextSlide():am.goToPrevSlide(),am.stopAuto())}else{var h=0;"horizontal"==ap.settings.mode?(h=ap.touch.end.x-ap.touch.start.x,f=ap.touch.originalPos.left):(h=ap.touch.end.y-ap.touch.start.y,f=ap.touch.originalPos.top),!ap.settings.infiniteLoop&&(0==ap.active.index&&h>0||ap.active.last&&0>h)?aA(f,"reset",200):Math.abs(h)>=ap.settings.swipeThreshold?(0>h?am.goToNextSlide():am.goToPrevSlide(),am.stopAuto()):aA(f,"reset",200)}ap.viewport.unbind("touchend",B)},e=function(){var g=a(window).width(),f=a(window).height();(aB!=g||at!=f)&&(aB=g,at=f,am.redrawSlider(),ap.settings.onSliderResize.call(am,ap.active.index))};return am.goToSlide=function(o,k){if(!ap.working&&ap.active.index!=o){if(ap.working=!0,ap.oldIndex=ap.active.index,ap.active.index=0>o?ai()-1:o>=ai()?0:o,ap.settings.onSlideBefore(ap.children.eq(ap.active.index),ap.oldIndex,ap.active.index),"next"==k?ap.settings.onSlideNext(ap.children.eq(ap.active.index),ap.oldIndex,ap.active.index):"prev"==k&&ap.settings.onSlidePrev(ap.children.eq(ap.active.index),ap.oldIndex,ap.active.index),ap.active.last=ap.active.index>=ai()-1,ap.settings.pager&&an(ap.active.index),ap.settings.controls&&t(),"fade"==ap.settings.mode){ap.settings.adaptiveHeight&&ap.viewport.height()!=ak()&&ap.viewport.animate({height:ak()},ap.settings.adaptiveHeightSpeed),ap.children.filter(":visible").fadeOut(ap.settings.speed).css({zIndex:0}),ap.children.eq(ap.active.index).css("zIndex",ap.settings.slideZIndex+1).fadeIn(ap.settings.speed,function(){a(this).css("zIndex",ap.settings.slideZIndex),ad()})}else{ap.settings.adaptiveHeight&&ap.viewport.height()!=ak()&&ap.viewport.animate({height:ak()},ap.settings.adaptiveHeightSpeed);var u=0,f={left:0,top:0};if(!ap.settings.infiniteLoop&&ap.carousel&&ap.active.last){if("horizontal"==ap.settings.mode){var r=ap.children.eq(ap.children.length-1);f=r.position(),u=ap.viewport.width()-r.outerWidth()}else{var h=ap.children.length-ap.settings.minSlides;f=ap.children.eq(h).position()}}else{if(ap.carousel&&ap.active.last&&"prev"==k){var p=1==ap.settings.moveSlides?ap.settings.maxSlides-ar():(ai()-1)*ar()-(ap.children.length-ap.settings.maxSlides),r=am.children(".bx-clone").eq(p);f=r.position()}else{if("next"==k&&0==ap.active.index){f=am.find("> .bx-clone").eq(ap.settings.maxSlides).position(),ap.active.last=!1}else{if(o>=0){var q=o*ar();f=ap.children.eq(q).position()}}}}if("undefined"!=typeof f){var m="horizontal"==ap.settings.mode?-(f.left-u):-f.top;aA(m,"slide",ap.settings.speed)}}}},am.goToNextSlide=function(){if(ap.settings.infiniteLoop||!ap.active.last){var f=parseInt(ap.active.index)+1;am.goToSlide(f,"next")}},am.goToPrevSlide=function(){if(ap.settings.infiniteLoop||0!=ap.active.index){var f=parseInt(ap.active.index)-1;am.goToSlide(f,"prev")}},am.startAuto=function(f){ap.interval||(ap.interval=setInterval(function(){"next"==ap.settings.autoDirection?am.goToNextSlide():am.goToPrevSlide()},ap.settings.pause),ap.settings.autoControls&&1!=f&&af("stop"))},am.stopAuto=function(f){ap.interval&&(clearInterval(ap.interval),ap.interval=null,ap.settings.autoControls&&1!=f&&af("start"))},am.getCurrentSlide=function(){return ap.active.index},am.getCurrentSlideElement=function(){return ap.children.eq(ap.active.index)},am.getSlideCount=function(){return ap.children.length},am.redrawSlider=function(){ap.children.add(am.find(".bx-clone")).outerWidth(al()),ap.viewport.css("height",ak()),ap.settings.ticker||G(),ap.active.last&&(ap.active.index=ai()-1),ap.active.index>=ai()&&(ap.active.last=!0),ap.settings.pager&&!ap.settings.pagerCustom&&(aj(),an(ap.active.index))},am.destroySlider=function(){ap.initialized&&(ap.initialized=!1,a(".bx-clone",this).remove(),ap.children.each(function(){void 0!=a(this).data("origStyle")?a(this).attr("style",a(this).data("origStyle")):a(this).removeAttr("style")}),void 0!=a(this).data("origStyle")?this.attr("style",a(this).data("origStyle")):a(this).removeAttr("style"),a(this).unwrap().unwrap(),ap.controls.el&&ap.controls.el.remove(),ap.controls.next&&ap.controls.next.remove(),ap.controls.prev&&ap.controls.prev.remove(),ap.pagerEl&&ap.settings.controls&&ap.pagerEl.remove(),a(".bx-caption",this).remove(),ap.controls.autoEl&&ap.controls.autoEl.remove(),clearInterval(ap.interval),ap.settings.responsive&&a(window).unbind("resize",e))},am.reloadSlider=function(f){void 0!=f&&(aq=f),am.destroySlider(),ay()},ay(),this}}(jQuery);!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b("object"==typeof exports?require("jquery"):jQuery)}(function(f){function e(Q,P){function O(){return H.update(),M(),H}function N(){C.css(a,H.contentPosition/H.trackRatio),F.css(a,-H.contentPosition),E.css(d,H.trackSize),D.css(d,H.trackSize),C.css(d,H.thumbSize)}function M(){z?G[0].ontouchstart=function(b){1===b.touches.length&&(b.stopPropagation(),L(b.touches[0]))}:(C.bind("mousedown",L),D.bind("mousedown",J)),f(window).resize(function(){H.update("relative")}),H.options.wheel&&window.addEventListener?Q[0].addEventListener(y,K,!1):H.options.wheel&&(Q[0].onmousewheel=K)}function L(j){f("body").addClass("noSelect"),B=A?j.pageX:j.pageY,H.thumbPosition=parseInt(C.css(a),10)||0,z?(document.ontouchmove=function(b){b.preventDefault(),J(b.touches[0])},document.ontouchend=I):(f(document).bind("mousemove",J),f(document).bind("mouseup",I),C.bind("mouseup",I))}function K(l){if(H.contentRatio<1){var k=l||window.event,j="delta"+H.options.axis.toUpperCase(),b=-(k[j]||k.detail||-1/3*k.wheelDelta)/40;H.contentPosition-=b*H.options.wheelSpeed,H.contentPosition=Math.min(H.contentSize-H.viewportSize,Math.max(0,H.contentPosition)),Q.trigger("move"),C.css(a,H.contentPosition/H.trackRatio),F.css(a,-H.contentPosition),(H.options.wheelLock||H.contentPosition!==H.contentSize-H.viewportSize&&0!==H.contentPosition)&&(k=f.event.fix(k),k.preventDefault())}}function J(b){if(H.contentRatio<1){var l=A?b.pageX:b.pageY,k=l-B;H.options.scrollInvert&&z&&(k=B-l);var j=Math.min(H.trackSize-H.thumbSize,Math.max(0,H.thumbPosition+k));H.contentPosition=j*H.trackRatio,Q.trigger("move"),C.css(a,j),F.css(a,-H.contentPosition)}}function I(){f("body").removeClass("noSelect"),f(document).unbind("mousemove",J),f(document).unbind("mouseup",I),C.unbind("mouseup",I),document.ontouchmove=document.ontouchend=null}this.options=f.extend({},g,P),this._defaults=g,this._name=h;var H=this,G=Q.find(".viewport"),F=Q.find(".overview"),E=Q.find(".scrollbar"),D=E.find(".track"),C=E.find(".thumb"),B=0,A="x"===this.options.axis,z="ontouchstart" in document.documentElement,y="onwheel" in document||document.documentMode>=9?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",d=A?"width":"height",a=A?"left":"top";return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(k){var j=d.charAt(0).toUpperCase()+d.slice(1).toLowerCase();switch(this.viewportSize=G[0]["offset"+j],this.contentSize=F[0]["scroll"+j],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,B=D.offset().top,E.toggleClass("disable",this.contentRatio>=1),k){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(k,10)||0}return N(),H},O()}var h="tinyscrollbar",g={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};f.fn[h]=function(a){return this.each(function(){f.data(this,"plugin_"+h)||f.data(this,"plugin_"+h,new e(f(this),a))})}});(function(t,r,q,A,y){var C=t("<div>")[0],w=/url\(["']?(.*?)["']?\)/,s=[],u={top:0,left:0,bottom:1,right:1,center:0.5};if("backgroundSize" in C.style&&!t.debugBGS){return}t.cssHooks.backgroundSize={set:function(f,d){var a=!t.data(f,"bgsImg"),b,e,g;t.data(f,"bgsValue",d);if(a){s.push(f);t.refreshBackgroundDimensions(f,true);e=t("<div>").css({position:"absolute",zIndex:-1,top:0,right:0,left:0,bottom:0,overflow:"hidden"});g=t("<img>").css({position:"absolute"}).appendTo(e),e.prependTo(f);t.data(f,"bgsImg",g[0]);b=(t.css(f,"backgroundPosition")||t.css(f,"backgroundPositionX")+" "+t.css(f,"backgroundPositionY")).split(" ");t.data(f,"bgsPos",[u[b[0]]||parseFloat(b[0])/100,u[b[1]]||parseFloat(b[1])/100]);t.css(f,"zIndex")=="auto"&&(f.style.zIndex=0);t.css(f,"position")=="static"&&(f.style.position="relative");t.refreshBackgroundImage(f)}else{t.refreshBackground(f)}},get:function(a){return t.data(a,"bgsValue")||""}};t.cssHooks.backgroundImage={set:function(b,a){return t.data(b,"bgsImg")?t.refreshBackgroundImage(b,a):a}};t.refreshBackgroundDimensions=function(d,f){var g=t(d),e={width:g.innerWidth(),height:g.innerHeight()},a=t.data(d,"bgsDim"),b=!a||e.width!=a.width||e.height!=a.height;t.data(d,"bgsDim",e);if(b&&!f){t.refreshBackground(d)}};t.refreshBackgroundImage=function(e,d){var g=t.data(e,"bgsImg"),f=(w.exec(d||t.css(e,"backgroundImage"))||[])[1],a=g&&g.src,b=f!=a,h,j;if(b){g.style.height=g.style.width="auto";g.onload=function(){var k={width:g.width,height:g.height};if(k.width==1&&k.height==1){return}t.data(e,"bgsImgDim",k);t.data(e,"bgsConstrain",false);t.refreshBackground(e);g.style.visibility="visible";g.onload=null};g.style.visibility="hidden";g.src=f;if(g.readyState||g.complete){g.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";g.src=f}e.style.backgroundImage="none"}};t.refreshBackground=function(a){var g=t.data(a,"bgsValue"),m=t.data(a,"bgsDim"),l=t.data(a,"bgsImgDim"),d=t(t.data(a,"bgsImg")),h=t.data(a,"bgsPos"),k=t.data(a,"bgsConstrain"),j,e=m.width/m.height,b=l.width/l.height,f;if(g=="contain"){if(b>e){t.data(a,"bgsConstrain",(j="width"));f=A.floor((m.height-m.width/b)*h[1]);d.css({top:f});if(j!=k){d.css({width:"100%",height:"auto",left:0})}}else{t.data(a,"bgsConstrain",(j="height"));f=A.floor((m.width-m.height*b)*h[0]);d.css({left:f});if(j!=k){d.css({height:"100%",width:"auto",top:0})}}}else{if(g=="cover"){if(b>e){t.data(a,"bgsConstrain",(j="height"));f=A.floor((m.height*b-m.width)*h[0]);d.css({left:-f});if(j!=k){d.css({height:"100%",width:"auto",top:0})}}else{t.data(a,"bgsConstrain",(j="width"));f=A.floor((m.width/b-m.height)*h[1]);d.css({top:-f});if(j!=k){d.css({width:"100%",height:"auto",left:0})}}}}};var D=t.event,B,x={_:0},z=0,v,p;B=D.special.throttledresize={setup:function(){t(this).on("resize",B.handler)},teardown:function(){t(this).off("resize",B.handler)},handler:function(a,e){var b=this,d=arguments;v=true;if(!p){t(x).animate(x,{duration:Infinity,step:function(){z++;if(z>B.threshold&&v||e){a.type="throttledresize";D.dispatch.apply(b,d);v=false;z=0}if(z>9){t(x).stop();p=false;z=0}}});p=true}},threshold:1};t(r).on("throttledresize",function(){t(s).each(function(){t.refreshBackgroundDimensions(this)})})})(jQuery,window,document,Math);!function(J){function ab(d,g,b){var f=this;return this.on("click.pjax",d,function(h){var a=J.extend({},aa(g,b));a.container||(a.container=J(this).attr("data-pjax")||f),M(h,a)})}function M(f,d,j){j=aa(d,j);var g=f.currentTarget;if("A"!==g.tagName.toUpperCase()){throw"$.fn.pjax or $.pjax.click requires an anchor element"}if(!(f.which>1||f.metaKey||f.ctrlKey||f.shiftKey||f.altKey||location.protocol!==g.protocol||location.hostname!==g.hostname||g.hash&&g.href.replace(g.hash,"")===location.href.replace(location.hash,"")||g.href===location.href+"#"||f.isDefaultPrevented())){var a={url:g.href,container:J(g).attr("data-pjax"),target:g},b=J.extend({},a,j),h=J.Event("pjax:click");J(g).trigger(h,[b]),h.isDefaultPrevented()||(af(b),f.preventDefault(),J(g).trigger("pjax:clicked",[b]))}}function Q(d,b,g){g=aa(b,g);var f=d.currentTarget;if("FORM"!==f.tagName.toUpperCase()){throw"$.pjax.submit requires a form element"}var a={type:f.method.toUpperCase(),url:f.action,data:J(f).serializeArray(),container:J(f).attr("data-pjax"),target:f};af(J.extend({},a,g)),d.preventDefault()}function af(g){function b(m,l,f){f||(f={}),f.relatedTarget=k;var n=J.Event(m,f);return a.trigger(n,l),!n.isDefaultPrevented()}g=J.extend(!0,{},J.ajaxSettings,af.defaults,g),J.isFunction(g.url)&&(g.url=g.url());var k=g.target,h=N(g.url).hash,a=g.context=ac(g.container);g.data||(g.data={}),g.data._pjax=a.selector;var j;g.beforeSend=function(e,f){return"GET"!==f.type&&(f.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",a.selector),b("pjax:beforeSend",[e,f])?(f.timeout>0&&(j=setTimeout(function(){b("pjax:timeout",[e,g])&&e.abort("timeout")},f.timeout),f.timeout=0),void (g.requestUrl=N(f.url).href)):!1},g.complete=function(e,f){j&&clearTimeout(j),b("pjax:complete",[e,f,g]),b("pjax:end",[e,g])},g.error=function(f,p,e){var m=G("",f,g),l=b("pjax:error",[f,p,e,g]);"GET"==g.type&&"abort"!==p&&l&&X(m.url)},g.success=function(e,v,E){var s=af.state,t="function"==typeof J.pjax.defaults.version?J.pjax.defaults.version():J.pjax.defaults.version,p=E.getResponseHeader("X-PJAX-Version"),l=G(e,E,g);if(t&&p&&t!==p){return void X(l.url)}if(!l.contents){return void X(l.url)}af.state={id:g.id||U(),url:l.url,title:l.title,container:a.selector,fragment:g.fragment,timeout:g.timeout},(g.push||g.replace)&&window.history.replaceState(af.state,l.title,l.url);try{document.activeElement.blur()}catch(o){}l.title&&(document.title=l.title),b("pjax:beforeReplace",[l.contents,g],{state:af.state,previousState:s}),a.html(l.contents);var r=a.find("input[autofocus], textarea[autofocus]").last()[0];if(r&&document.activeElement!==r&&r.focus(),D(l.scripts),"number"==typeof g.scrollTo&&J(window).scrollTop(g.scrollTo),""!==h){var C=N(l.url);C.hash=h,af.state.url=C.href,window.history.replaceState(af.state,l.title,C.href);var x=J(C.hash);x.length&&J(window).scrollTop(x.offset().top)}b("pjax:success",[e,v,E,g])},af.state||(af.state={id:U(),url:window.location.href,title:document.title,container:a.selector,fragment:g.fragment,timeout:g.timeout},window.history.replaceState(af.state,document.title));var d=af.xhr;d&&d.readyState<4&&(d.onreadystatechange=J.noop,d.abort()),af.options=g;var d=af.xhr=J.ajax(g);return d.readyState>0&&(g.push&&!g.replace&&(W(af.state.id,a.clone().contents()),window.history.pushState(null,"",H(g.requestUrl))),b("pjax:start",[d,g]),b("pjax:send",[d,g])),af.xhr}function O(b,a){var d={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return af(J.extend(d,aa(b,a)))}function X(a){window.history.replaceState(null,"","#"),window.location.replace(a)}function K(h){var a=af.state,f=h.state;if(f&&f.container){if(q&&z==f.url){return}if(af.state&&af.state.id===f.id){return}var d=J(f.container);if(d.length){var m,j=A[f.id];af.state&&(m=af.state.id<f.id?"forward":"back",Z(m,af.state.id,d.clone().contents()));var g=J.Event("pjax:popstate",{state:f,direction:m});d.trigger(g);var k={id:f.id,url:f.url,container:d,push:!1,fragment:f.fragment,timeout:f.timeout,scrollTo:!1};if(j){d.trigger("pjax:start",[null,k]),af.state=f,f.title&&(document.title=f.title);var b=J.Event("pjax:beforeReplace",{state:f,previousState:a});d.trigger(b,[j,k]),d.html(j),d.trigger("pjax:end",[null,k])}else{af(k)}d[0].offsetHeight}else{X(location.href)}}q=!1}function ad(f){var d=J.isFunction(f.url)?f.url():f.url,h=f.type?f.type.toUpperCase():"GET",b=J("<form>",{method:"GET"===h?"GET":"POST",action:d,style:"display:none"});"GET"!==h&&"POST"!==h&&b.append(J("<input>",{type:"hidden",name:"_method",value:h.toLowerCase()}));var g=f.data;if("string"==typeof g){J.each(g.split("&"),function(j,a){var k=a.split("=");b.append(J("<input>",{type:"hidden",name:k[0],value:k[1]}))})}else{if("object"==typeof g){for(key in g){b.append(J("<input>",{type:"hidden",name:key,value:g[key]}))}}}J(document.body).append(b),b.submit()}function U(){return(new Date).getTime()}function H(a){return a.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function N(a){var b=document.createElement("a");return b.href=a,b}function aa(b,a){return b&&a?a.container=b:a=J.isPlainObject(b)?b:{container:b},a.container&&(a.container=ac(a.container)),a}function ac(a){if(a=J(a),a.length){if(""!==a.selector&&a.context===document){return a}if(a.attr("id")){return J("#"+a.attr("id"))}throw"cant get selector for pjax container!"}throw"no pjax container for "+a.selector}function Y(a,b){return a.filter(b).add(a.find(b))}function R(a){return J.parseHTML(a,document,!0)}function G(h,g,k){var b={};if(b.url=H(g.getResponseHeader("X-PJAX-URL")||k.requestUrl),/<html/i.test(h)){var j=J(R(h.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),d=J(R(h.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]))}else{var j=d=J(R(h))}if(0===d.length){return b}if(b.title=Y(j,"title").last().text(),k.fragment){if("body"===k.fragment){var f=d}else{var f=Y(d,k.fragment).first()}f.length&&(b.contents=f.contents(),b.title||(b.title=f.attr("title")||f.data("title")))}else{/<html/i.test(h)||(b.contents=d)}return b.contents&&(b.contents=b.contents.not(function(){return J(this).is("title")}),b.contents.find("title").remove(),b.scripts=Y(b.contents,"script[src]").remove(),b.contents=b.contents.not(b.scripts)),b.title&&(b.title=J.trim(b.title)),b}function D(b){if(b){var a=J("script[src]");b.each(function(){var f=this.src,g=a.filter(function(){return this.src===f});if(!g.length){var d=document.createElement("script");d.type=J(this).attr("type"),d.src=J(this).attr("src"),document.head.appendChild(d)}})}}function W(a,b){for(A[a]=b,L.push(a);V.length;){delete A[V.shift()]}for(;L.length>af.defaults.maxCacheLength;){delete A[L.shift()]}}function Z(d,g,f){var h,b;A[g]=f,"forward"===d?(h=L,b=V):(h=V,b=L),h.push(g),(g=b.pop())&&delete A[g]}function F(){return J("meta").filter(function(){var a=J(this).attr("http-equiv");return a&&"X-PJAX-VERSION"===a.toUpperCase()}).attr("content")}function B(){J.fn.pjax=ab,J.pjax=af,J.pjax.enable=J.noop,J.pjax.disable=ae,J.pjax.click=M,J.pjax.submit=Q,J.pjax.reload=O,J.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:F},J(window).on("popstate.pjax",K)}function ae(){J.fn.pjax=function(){return this},J.pjax=ad,J.pjax.enable=B,J.pjax.disable=J.noop,J.pjax.click=J.noop,J.pjax.submit=J.noop,J.pjax.reload=function(){window.location.reload()},J(window).off("popstate.pjax",K)}var q=!0,z=window.location.href,I=window.history.state;I&&I.container&&(af.state=I),"state" in window.history&&(q=!1);var A={},V=[],L=[];J.inArray("state",J.event.props)<0&&J.event.props.push("state"),J.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),J.support.pjax?B():ae()}(jQuery);(function(v,t,y){var C=Object.prototype.toString.call(v.operamini)=="[object OperaMini]";var D="placeholder" in t.createElement("input")&&!C;var x="placeholder" in t.createElement("textarea")&&!C;var s=y.fn;var z=y.valHooks;var B=y.propHooks;var q;var r;if(D&&x){r=s.placeholder=function(){return this};r.input=r.textarea=true}else{r=s.placeholder=function(){var a=this;a.filter((D?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":A,"blur.placeholder":w}).data("placeholder-enabled",true).trigger("blur.placeholder");return a};r.input=D;r.textarea=x;q={get:function(b){var d=y(b);var a=d.data("placeholder-password");if(a){return a[0].value}return d.data("placeholder-enabled")&&d.hasClass("placeholder")?"":b.value},set:function(d,a){var e=y(d);var b=e.data("placeholder-password");if(b){return b[0].value=a}if(!e.data("placeholder-enabled")){return d.value=a}if(a==""){d.value=a;if(d!=p()){w.call(d)}}else{if(e.hasClass("placeholder")){A.call(d,true,a)||(d.value=a)}else{d.value=a}}return e}};if(!D){z.input=q;B.value=q}if(!x){z.textarea=q;B.value=q}y(function(){y(t).delegate("form","submit.placeholder",function(){var a=y(".placeholder",this).each(A);setTimeout(function(){a.each(w)},10)})});y(v).bind("beforeunload.placeholder",function(){y(".placeholder").each(function(){this.value=""})})}function u(b){var d={};var a=/^jQuery\d+$/;y.each(b.attributes,function(e,f){if(f.specified&&!a.test(f.name)){d[f.name]=f.value}});return d}function A(d,b){var e=this;var a=y(e);if(e.value==a.attr("placeholder")&&a.hasClass("placeholder")){if(a.data("placeholder-password")){a=a.hide().next().show().attr("id",a.removeAttr("id").data("placeholder-id"));if(d===true){return a[0].value=b}a.focus()}else{e.value="";a.removeClass("placeholder");e==p()&&e.select()}}}function w(){var a;var f=this;var b=y(f);var d=this.id;if(f.value==""){if(f.type=="password"){if(!b.data("placeholder-textinput")){try{a=b.clone().attr({type:"text"})}catch(e){a=y("<input>").attr(y.extend(u(this),{type:"text"}))}a.removeAttr("name").data({"placeholder-password":b,"placeholder-id":d}).bind("focus.placeholder",A);b.data({"placeholder-textinput":a,"placeholder-id":d}).before(a)}b=b.removeAttr("id").hide().prev().attr("id",d).show()}b.addClass("placeholder");b[0].value=b.attr("placeholder")}else{b.removeClass("placeholder")}}function p(){try{return t.activeElement}catch(a){}}}(this,document,jQuery));var cX=cY=pX=pY=tX=tY=0;var wW,wH,half_wW,half_wH,aspect_ratio,canvas,ctx_t,bgCanvas,bgctx,particles=[],img,cW,cH,create_t_left,create_t_top,int_draw_t,wW_ratio,wH_ratio,analyser,audio,audioContext,source,gainNode,maxMagnitude,c,ctx;var audioflag=false;var drow_round={circles:20,r:12};var settings={circles:30,hue:0};if(getUA()==="chrome"){var intval=20;var density=12}else{var intval=40;var density=18}var range=10;var speed=100;var megane=130;var stroke_megane=25;var jimble=2;HTML=$("html");DIR=$("html").data("dir");

var imageW=1084;
var imageH=801;
var cW=1084;
var cH=imageH;
var image=new Image();
//image.src="antipattern.png";

//document.body.appendChild(image);


window.letsdothis = function(){
	image.src=window.imgdata;
	console.log(window.imgdata);
	getUA();
	setSize();
	preload();
	common();
	wT=$(window).scrollTop();
	viewcheck()
};

$(window).mousemove(function(a){
	cX=a.clientX;cY=a.clientY;pX=a.pageX;pY=a.pageY;tX=pX-create_t_left;tY=pY-create_t_top;
});


function preload(){
	if(richflag){
		Array.prototype.remove=function(g){for(var f=0;f<this.length;f++){if(this[f]==g){this.splice(f,1)}}};
		function a(f,g){var h=f.length;$(f).each(function(){
			var j=this;$("<img/>").attr("src",j).load(function(){f.remove(j);g(h,h-f.length)})})
		}
		var b=0;
		var e=0;
		a(["http://kenjiendo.com/testsite/wp-content/themes/kenjiendo_v2/img/kenjiendo2.png","http://kenjiendo.com/testsite/wp-content/themes/kenjiendo_v2/img/main.jpg"],function(g,f){b=Math.ceil(100*f/g)}
		);
		var d=window.setInterval(function(){if(e>=100){window.clearInterval(d);
			$("body").removeClass("preload");
			// setTimeout(function(){$(".firstload").remove()},1000);
			setTimeout(function(){
				setdraw_t();
			},500);
		if(getUA()==="firefox"){

		}
		else{
			int_draw_t=setInterval(function(){draw_t()},intval)
		}
		setupParticles()
		} 
		else {
			if(e<b){
				e++;$(".preloadbar").css({width:e+"%"})
			}
		}
		},10)
		} else {
			$(window).on("load",function(){
				$("body").removeClass("preload");
				$(".firstload").fadeOut("400");
				setTimeout(function(){
					setdraw_t();
					if(getUA()==="chrome"||getUA()==="firefox"){
						
					} else {
						draw_roundy()
					}
				},500);
				if(getUA()==="firefox"){

				}else {
					int_draw_t=setInterval(function(){draw_t()},intval)
				}
			setupParticles()
			})
		}
	}

	function common(){
		clearInterval(int_draw_t);
		HTML=$("html");
		DIAL=$(".dial");
		canvas_flag=$('canvas').length;
		
		if($(".create_t").length){create_t_top=$(".create_t").offset().top;create_t_left=$(".create_t").offset().left}$(".pagging").find("a").each(function(b,d){var a=$(this).attr("href");var e=a.replace(/\?_pjax=%23loadbody/g,"");$(this).attr("href",e)});
		HTML.addClass(getUA);
		
		setdraw_t()
		
	$(window).on("load",function(){
		setSize();
	});

	$(window).on("resize",function(){setSize();if(!$(".subpages").length){setdraw_t()}if($(".create_t").length){create_t_top=$(".create_t").offset().top;create_t_left=$(".create_t").offset().left}});
	$(window).on("scroll",function(){wT=$(window).scrollTop();setSidenav();scrolling();viewcheck()})}

	function viewcheck(){$(".viewin").each(function(a,e){var b=$(this);var d=b.offset().top;if(wT+wH>d+100){b.addClass("come")}else{b.removeClass("come")}})}
	function commonafter(){
		clearInterval(int_draw_t);HTML=$("html");
		DIAL=$(".dial");
		canvas_flag=$('canvas').length;
		if($(".create_t").length){create_t_top=$(".create_t").offset().top;create_t_left=$(".create_t").offset().left}HTML.addClass(getUA);if(!$(".subpages").length){if(getUA()==="chrome"||getUA()==="firefox"){setCirclePlayer();circlelines()}else{$("#sound,.circle_control").remove()}
		setdraw_t()
	}

	$(window).on("resize",function(){setSize();if(!$(".subpages").length){setdraw_t()}});if(wW>800){$("#news_scroll_wrap").tinyscrollbar({trackSize:160});$("#footer_scroll_wrap").tinyscrollbar({trackSize:160})}}
	function setSize(){wT=$(window).scrollTop();wW=$(window).width();wH=$(window).height();half_wW=wW/2;half_wH=wH/2;aspect_ratio=wH/wW;wW_ratio=wW/1024;wH_ratio=wH/255;maxMagnitude=1024*255;$("#sound_effect").attr({width:wW,height:wH})}
	
	function setdraw_t(){
		if(canvas_flag){
			if(richflag){
				canvas=document.getElementById("maincanvas");
				bgCanvas=document.getElementById("dupecanvas");
				ctx_t=canvas.getContext("2d");
				bgctx=bgCanvas.getContext("2d");
				canvas.width=cW;
				canvas.height=cH;
				bgCanvas.width=cW;
				bgCanvas.height=cH;prepare();
				setupParticles();
				ctx_t.drawImage(image,0,0,imageW,imageH,imgX,imgY,imageW,imageH)
			}
		}
	}

	function prepare(){
		imgX=(cW-imageW)/2;
		imgY=(cH-imageH)/2;
		bgctx.drawImage(image,0,0,imageW,imageH,imgX,imgY,imageW,imageH)
	}

	function setupParticles(){
		if(canvas_flag&&richflag){
			particles=[];
			var f,d,b;
			f=bgctx.getImageData(0,0,cW,cH);
			
			d=f.data;
			for(var e=0;e<cW;e+=density){
				for(var a=0;a<cH;a+=density){
					b=d[((e+(a*cW))*4)-1];
					if(b==255){
						particles.push({x:e,y:a,x0:e,y0:a})
					}
				}
			}
		}
	}

	function draw_t(){
		if(canvas_flag&&richflag){
			ctx_t.clearRect(0,0,cW,cH);
			ctx_t.drawImage(image,0,0,imageW,imageH,imgX,imgY,imageW,imageH);
			ctx_t.globalCompositeOperation="destination-out";
			for(var g=0;g<=10;g++){
				var j=1-g/10;
				var b=80+(g*3);
				ctx_t.beginPath();
				ctx_t.fillStyle="rgba(255,255,255,"+j+")";
				ctx_t.arc(tX,tY,b,0,Math.PI*2,true);
				ctx_t.closePath();
				ctx_t.fill()
			}
			ctx_t.globalCompositeOperation="source-over";
			
			for(var g=0,l=particles.length;g<l;++g){
				var d=particles[g];dx=tX-d.x;
				dy=tY-d.y;
				distance=Math.sqrt(dx*dx+dy*dy);
				d.x=(d.x-(dx/distance)*(range/distance)*speed)-((d.x-d.x0)/2);
				d.y=(d.y-(dy/distance)*(range/distance)*speed)-((d.y-d.y0)/2);
				var o=d.x-tX;var m=d.y-tY;
				var q=Math.sqrt(Math.pow(o,2)+Math.pow(m,2));
				
				if(q<megane){
					for(var e=1;e<particles.length;e++){
						var f=particles[e];
						var k=d.x-f.x;
						var h=d.y-f.y;
						var a=Math.sqrt(Math.pow(k,2)+Math.pow(h,2));
						if(a<stroke_megane){
							ctx_t.beginPath();
							ctx_t.lineWidth=0.3;
							ctx_t.strokeStyle="rgba(49,49,49,1)";
							ctx_t.lineTo(d.x+(Math.random()*jimble-jimble/2),d.y+(Math.random()*jimble-jimble/2));
							ctx_t.lineTo(f.x+(Math.random()*jimble-jimble/2),f.y+(Math.random()*jimble-jimble/2));
							ctx_t.lineTo(d.x0,d.y0);ctx_t.lineTo(f.x0,f.y0);
							ctx_t.closePath();
							ctx_t.stroke()
						}
					}
				}
			}
		}
	}

	function getUA(){
		var b=window.navigator.userAgent.toLowerCase();
		var a=window.navigator.appVersion.toLowerCase();
		if(b.indexOf("msie")>-1) {
			if(a.indexOf("msie 6.0")>-1){
				return"ie ie6"
			} else {
				if(a.indexOf("msie 7.0")>-1){
					richflag=false;
					return"ie ie7"
					}else{if(a.indexOf("msie 8.0")>-1){richflag=false;return"ie ie8"}else{if(a.indexOf("msie 9.0")>-1){richflag=true;return"ie ie9"}else
						{
							if(a.indexOf("msie 10.0")>-1){
								richflag=true;return"ie ie10"
							} else {
								richflag=true;return"ie"
							}
						}
					}
				}
			}
		}
		else {
			if(a.indexOf("trident/7.0")>-1){
				richflag=true;return"ie ie11"
			} else {
				if(b.indexOf("firefox")>-1){
					richflag=true;
					return"firefox"
				} else {
					if(b.indexOf("opera")>-1) {
						richflag=true;
						return"opera"
					} else {
						if(b.indexOf("chrome")>-1) { 
							richflag=true;
							return"chrome"
						} else {
							if(b.indexOf("safari")>-1) {
								richflag=true;return"safari"
							} else {

							}
						}
					}
				}
			}
		}
	}

	setTimeout(function(){setupParticles()
	},1000);

})(jQuery);






